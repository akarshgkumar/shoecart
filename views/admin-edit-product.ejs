<%- include('header') %>
  <%- include('aside-nav') %>
    <main class="main-wrap">
      <%- include('admin-header') %>
        <section class="content-main">
          <form action="/admin/edit-product/<%= product._id %>" method="POST" enctype="multipart/form-data">
            <div class="row">
              <div class="col-9">
                <div class="content-header">
                  <h2 class="content-title">Edit Product</h2>
                  <div>
                    <button type="submit" class="btn btn-md rounded font-sm hover-up">Publish</button>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="card mb-4">
                  <div class="card-body">
                    <div class="mb-4">
                      <label for="product_name" class="form-label">Product title</label>
                      <input type="text" placeholder="Type here" class="form-control" id="product_name"
                        name="product_name" value="<%= product.name %>">
                    </div>
                    <div class="row gx-3">
                      <div class="col-md-6  mb-3">
                        <label for="product_color" class="form-label">Color</label>
                        <input type="text" placeholder="Type here" class="form-control" id="product_color"
                          name="product_color" value="<%= product.color %>">
                      </div>
                      <div class="col-md-6 mb-3">
                        <label for="product_size" class="form-label">Size</label>
                        <input type="number" placeholder="Type here" class="form-control" id="product_size"
                          name="product_size" value="<%= product.size %>">
                      </div>
                    </div>
                    <div class="mb-4">
                      <label for="product_brand" class="form-label">Brand</label>
                      <input type="text" placeholder="Type here" class="form-control" id="product_brand"
                        name="product_brand" value="<%= product.brand %>">
                    </div>
                  </div>
                </div>
                <div class="card mb-4">
                  <div class="card-body">
                    <div>
                      <label class="form-label">Description</label>
                      <textarea placeholder="Type here" class="form-control" rows="4"
                        name="description"><%= product.description %></textarea>
                    </div>
                  </div>
                </div>
                <div class="card mb-4">
                  <div class="card-body">
                    <div>
                      <label class="form-label">Images</label>
                      <input class="form-control" type="file" name="image" multiple>
                    </div>
                  </div>
                </div>
                <div class="card mb-4">
                  <div class="card-body">
                    <label class="form-label">Existing Images</label>
                    <div class="selected-images-container">
                      <% product.images.forEach(imageUrl=> { %>
                        <div class="selected-image">
                          <img src="<%= imageUrl %>" alt="Selected Image">
                          <input type="hidden" name="existingImages" value="<%= imageUrl %>">
                        </div>
                        <% }) %>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-3">
                <div class="card mb-4">
                  <div class="card-body">
                    <div class="mb-4">
                      <label class="form-label">Price</label>
                      <input type="number" placeholder="Type here" class="form-control" name="price"
                        value="<%= product.price %>">
                    </div>
                    <hr>
                    <h5 class="mb-3">Categories</h5>
                    <!-- Add logic to select the correct category based on product.category -->
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Athletic"
                        id="product-cat" <%=product.category==='Athletic' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat"> Athletic </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Casual"
                        id="product-cat-1" <%=product.category==='Casual' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-1"> Casual </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Formal"
                        id="product-cat-2" <%=product.category==='Formal' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-2"> Formal </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Boots"
                        id="product-cat-3" <%=product.category==='Boots' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-3"> Boots </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Sneakers"
                        id="product-cat-4" <%=product.category==='Sneakers' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-4"> Sneakers </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="Flats"
                        id="product-cat-5" <%=product.category==='Flats' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-5"> Flats </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="product_category" value="High Heels"
                        id="product-cat-8" <%=product.category==='High Heels' ? 'checked' : '' %>>
                      <label class="form-check-label" for="product-cat-8"> High Heels </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </section>
    </main>
    <%- include('footer') %>